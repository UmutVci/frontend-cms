{"ast":null,"code":"var _jsxFileName = \"/Users/umutavc/WebstormProjects/cms/src/features/clerk/ReservationSuccessPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport SessionService from '../../services/SessionService';\nimport HallService from '../../services/HallService';\nimport MovieService from '../../services/MovieService'; // ‚úÖ Movie servisini ekledik\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReservationSuccessPage() {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [searchParams] = useSearchParams();\n  const [session, setSession] = useState(null);\n  const [hall, setHall] = useState(null);\n  const [seats, setSeats] = useState([]);\n  const [movie, setMovie] = useState(null); // ‚úÖ Film bilgisi i√ßin state\n\n  useEffect(() => {\n    var _searchParams$get, _searchParams$get$spl;\n    const sessionId = searchParams.get('sessionId');\n    const hallId = searchParams.get('hallId');\n    const seatIds = ((_searchParams$get = searchParams.get('seatIds')) === null || _searchParams$get === void 0 ? void 0 : (_searchParams$get$spl = _searchParams$get.split(',')) === null || _searchParams$get$spl === void 0 ? void 0 : _searchParams$get$spl.map(id => Number(id))) || [];\n    async function loadData() {\n      try {\n        const sessionData = await SessionService.getById(sessionId);\n        const hallData = await HallService.getById(hallId);\n        const allSeats = await SessionService.getSeatsBySessionId(sessionId);\n        const reservedSeats = allSeats.filter(seat => seatIds.includes(seat.id));\n\n        // üé¨ Film bilgisini √ßek\n        if (sessionData.movie) {\n          const movieData = await MovieService.getById(sessionData.movie);\n          setMovie(movieData);\n        }\n        setSession(sessionData);\n        setHall(hallData);\n        setSeats(reservedSeats);\n      } catch (err) {\n        console.error(\"‚ùå Error loading reservation data\", err);\n      }\n    }\n    loadData();\n  }, [searchParams]);\n  if (!session || !hall || seats.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 text-red-600\",\n      children: \"\\u274C Error!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this);\n  }\n  const seatLabels = seats.map(seat => `${seat.seatRow}${seat.seatColumn}`).join(', ');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-green-700\",\n      children: \"\\uD83C\\uDF89 Reservation Successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: (movie === null || movie === void 0 ? void 0 : movie.title) || 'Film'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [\"Date: \", new Date(session.startTime).toLocaleDateString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [\"Time: \", new Date(session.startTime).toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-4\",\n      children: [\"Seats: \", seatLabels]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-semibold\",\n      children: [\"\\uD83C\\uDFDB\\uFE0F Hall: \", hall.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/'),\n      className: \"mt-6 bg-[#400505] text-white px-6 py-2 rounded\",\n      children: \"Back to the Homepage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationSuccessPage, \"swwobhQtvk3HgaQlsyQLtBhaIuw=\", false, function () {\n  return [useNavigate, useLocation, useSearchParams];\n});\n_c = ReservationSuccessPage;\nvar _c;\n$RefreshReg$(_c, \"ReservationSuccessPage\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","useSearchParams","SessionService","HallService","MovieService","jsxDEV","_jsxDEV","ReservationSuccessPage","_s","navigate","location","searchParams","session","setSession","hall","setHall","seats","setSeats","movie","setMovie","_searchParams$get","_searchParams$get$spl","sessionId","get","hallId","seatIds","split","map","id","Number","loadData","sessionData","getById","hallData","allSeats","getSeatsBySessionId","reservedSeats","filter","seat","includes","movieData","err","console","error","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","seatLabels","seatRow","seatColumn","join","title","Date","startTime","toLocaleDateString","toLocaleTimeString","hour","minute","name","onClick","_c","$RefreshReg$"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/clerk/ReservationSuccessPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport SessionService from '../../services/SessionService';\nimport HallService from '../../services/HallService';\nimport MovieService from '../../services/MovieService'; // ‚úÖ Movie servisini ekledik\n\nexport default function ReservationSuccessPage() {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const [searchParams] = useSearchParams();\n\n    const [session, setSession] = useState(null);\n    const [hall, setHall] = useState(null);\n    const [seats, setSeats] = useState([]);\n    const [movie, setMovie] = useState(null); // ‚úÖ Film bilgisi i√ßin state\n\n    useEffect(() => {\n        const sessionId = searchParams.get('sessionId');\n        const hallId = searchParams.get('hallId');\n        const seatIds = searchParams.get('seatIds')?.split(',')?.map(id => Number(id)) || [];\n\n        async function loadData() {\n            try {\n                const sessionData = await SessionService.getById(sessionId);\n                const hallData = await HallService.getById(hallId);\n                const allSeats = await SessionService.getSeatsBySessionId(sessionId);\n                const reservedSeats = allSeats.filter(seat => seatIds.includes(seat.id));\n\n                // üé¨ Film bilgisini √ßek\n                if (sessionData.movie) {\n                    const movieData = await MovieService.getById(sessionData.movie);\n                    setMovie(movieData);\n                }\n\n                setSession(sessionData);\n                setHall(hallData);\n                setSeats(reservedSeats);\n            } catch (err) {\n                console.error(\"‚ùå Error loading reservation data\", err);\n            }\n        }\n\n        loadData();\n    }, [searchParams]);\n\n    if (!session || !hall || seats.length === 0) {\n        return <div className=\"p-6 text-red-600\">‚ùå Error!</div>;\n    }\n\n    const seatLabels = seats.map(seat => `${seat.seatRow}${seat.seatColumn}`).join(', ');\n\n    return (\n        <div className=\"p-6 text-center\">\n            <h2 className=\"text-2xl font-bold mb-4 text-green-700\">üéâ Reservation Successfully!</h2>\n            <p className=\"mb-2\"> <strong>{movie?.title || 'Film'}</strong></p>\n            <p className=\"mb-2\">Date: {new Date(session.startTime).toLocaleDateString()}</p>\n            <p className=\"mb-2\">Time: {new Date(session.startTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>\n            <p className=\"mb-4\">Seats: {seatLabels}</p>\n            <p className=\"font-semibold\">üèõÔ∏è Hall: {hall.name}</p>\n\n            <button\n                onClick={() => navigate('/')}\n                className=\"mt-6 bg-[#400505] text-white px-6 py-2 rounded\"\n            >\n                Back to the Homepage\n            </button>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}