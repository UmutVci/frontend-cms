{"ast":null,"code":"var _jsxFileName = \"/Users/umutavc/WebstormProjects/cms/src/features/admin/AdminMovies/UpdateMovie.jsx\",\n  _s = $RefreshSig$();\nimport Sidebar from \"../AdminLayout/Sidebar\";\nimport Header from \"../AdminLayout/Header\";\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport MovieService from \"../../../services/MovieService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UpdateMovie() {\n  _s();\n  var _location$state;\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const movie = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.movie;\n  const [name, setName] = useState(movie.name);\n  const [genre, setGenre] = useState(movie.genre);\n  const [duration, setDuration] = useState(movie.duration);\n  const [img, setImg] = useState(movie.imgUrl);\n  const [price, setPrice] = useState(movie.price);\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        const movie = await MovieService.getById(id);\n        if (movie) {\n          setName(movie.title);\n          setGenre(movie.genre);\n          setDuration(movie.duration);\n          setImg(movie.imgUrl || movie.imageUrl);\n          setPrice(movie.price);\n        } else {\n          alert(\"Movie not found.\");\n          navigate(\"/admin/movies\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching movie:\", error);\n      }\n    };\n    fetchMovie();\n  }, [id, navigate]);\n  const handleInput = async e => {\n    e.preventDefault();\n    const updatedMovie = {\n      id,\n      title: name,\n      genre,\n      duration,\n      imgUrl: img,\n      price: parseFloat(price) || 0\n    };\n    console.log(\"Gönderilen veri:\", updatedMovie);\n    console.log(\"Gönderilen veri:\", updatedMovie);\n    console.log(\"Price tipi:\", typeof price, \"Değer:\", price);\n    const success = await MovieService.update(id, updatedMovie);\n    console.log(\"Güncelleme sonucu:\", success);\n    if (success) {\n      navigate(\"/admin/movies\");\n    } else {\n      alert(\"Fail\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"inner-container relative flex-1 p-10 bg-[#D9D9D9]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white w-[75%] h-full mx-3 my-4 rounded-xl p-6 overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"p-8 space-y-4\",\n        onSubmit: handleInput,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-black font-semibold\",\n          children: \"Movie Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          className: \"border-2 border-gray-300 rounded-md h-8 w-full\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-black font-semibold\",\n          children: \"Genre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: genre,\n          onChange: e => setGenre(e.target.value),\n          className: \"border-2 border-gray-300 rounded-md h-8 w-full\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-black font-semibold\",\n          children: \"Duration (min)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: duration,\n          onChange: e => setDuration(e.target.value),\n          className: \"border-2 border-gray-300 rounded-md h-8 w-full\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-black font-semibold\",\n          children: \"Image URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: img,\n          onChange: e => setImg(e.target.value),\n          className: \"border-2 border-gray-300 rounded-md h-8 w-full\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-black font-semibold\",\n          children: \"Price (\\u20BA)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"0\",\n          step: \"0.01\",\n          value: price,\n          onChange: e => setPrice(e.target.value),\n          className: \"border-2 border-gray-300 rounded-md h-8 w-full\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-[#400505] text-white py-2 px-6 rounded-md\",\n          children: \"Update Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 17\n  }, this);\n}\n_s(UpdateMovie, \"ePthAkPQ7gQTek71ve9BggtErqo=\", false, function () {\n  return [useNavigate, useParams, useLocation];\n});\n_c = UpdateMovie;\nvar _c;\n$RefreshReg$(_c, \"UpdateMovie\");","map":{"version":3,"names":["Sidebar","Header","React","useState","useEffect","useLocation","useNavigate","useParams","MovieService","jsxDEV","_jsxDEV","UpdateMovie","_s","_location$state","navigate","id","location","movie","state","name","setName","genre","setGenre","duration","setDuration","img","setImg","imgUrl","price","setPrice","fetchMovie","getById","title","imageUrl","alert","error","console","handleInput","e","preventDefault","updatedMovie","parseFloat","log","success","update","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","required","min","step","_c","$RefreshReg$"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/admin/AdminMovies/UpdateMovie.jsx"],"sourcesContent":["import Sidebar from \"../AdminLayout/Sidebar\";\nimport Header from \"../AdminLayout/Header\";\nimport React, { useState, useEffect } from \"react\";\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport MovieService from \"../../../services/MovieService\";\n\nexport default function UpdateMovie() {\n    const navigate = useNavigate();\n    const { id } = useParams();\n\n    const location = useLocation();\n    const movie = location.state?.movie;\n\n    const [name, setName] = useState(movie.name);\n    const [genre, setGenre] = useState(movie.genre);\n    const [duration, setDuration] = useState(movie.duration);\n    const [img, setImg] = useState(movie.imgUrl);\n    const [price, setPrice] = useState(movie.price);\n\n    useEffect(() => {\n        const fetchMovie = async () => {\n            try {\n                const movie = await MovieService.getById(id);\n                if (movie) {\n                    setName(movie.title);\n                    setGenre(movie.genre);\n                    setDuration(movie.duration);\n                    setImg(movie.imgUrl || movie.imageUrl);\n                    setPrice(movie.price);\n                } else {\n                    alert(\"Movie not found.\");\n                    navigate(\"/admin/movies\");\n                }\n            } catch (error) {\n                console.error(\"Error fetching movie:\", error);\n            }\n        };\n        fetchMovie();\n    }, [id, navigate]);\n\n    const handleInput = async (e) => {\n        e.preventDefault();\n        const updatedMovie = {\n            id, title: name, genre, duration, imgUrl: img, price: parseFloat(price) || 0\n        };\n        console.log(\"Gönderilen veri:\", updatedMovie);\n        console.log(\"Gönderilen veri:\", updatedMovie);\n        console.log(\"Price tipi:\", typeof price, \"Değer:\", price);\n        const success = await MovieService.update(id, updatedMovie);\n        console.log(\"Güncelleme sonucu:\", success);\n        if (success) {\n            navigate(\"/admin/movies\");\n        }\n        else {\n            alert(\"Fail\")\n        }\n    };\n\n    return (\n                <main className=\"inner-container relative flex-1 p-10 bg-[#D9D9D9]\">\n                    <div className=\"bg-white w-[75%] h-full mx-3 my-4 rounded-xl p-6 overflow-auto\">\n                        <form className=\"p-8 space-y-4\" onSubmit={handleInput}>\n                            <label className=\"block text-black font-semibold\">Movie Name</label>\n                            <input\n                                type=\"text\"\n                                value={name}\n                                onChange={(e) => setName(e.target.value)}\n                                className=\"border-2 border-gray-300 rounded-md h-8 w-full\"\n                                required\n                            />\n                            <label className=\"block text-black font-semibold\">Genre</label>\n                            <input\n                                type=\"text\"\n                                value={genre}\n                                onChange={(e) => setGenre(e.target.value)}\n                                className=\"border-2 border-gray-300 rounded-md h-8 w-full\"\n                                required\n                            />\n                            <label className=\"block text-black font-semibold\">Duration (min)</label>\n                            <input\n                                type=\"text\"\n                                value={duration}\n                                onChange={(e) => setDuration(e.target.value)}\n                                className=\"border-2 border-gray-300 rounded-md h-8 w-full\"\n                                required\n                            />\n                            <label className=\"block text-black font-semibold\">Image URL</label>\n                            <input\n                                type=\"text\"\n                                value={img}\n                                onChange={(e) => setImg(e.target.value)}\n                                className=\"border-2 border-gray-300 rounded-md h-8 w-full\"\n                                required\n                            />\n                            <label className=\"block text-black font-semibold\">Price (₺)</label>\n                            <input\n                                type=\"number\"\n                                min=\"0\"\n                                step=\"0.01\"\n                                value={price}\n                                onChange={(e) => setPrice(e.target.value)}\n                                className=\"border-2 border-gray-300 rounded-md h-8 w-full\"\n                                required\n                            />\n                            <button\n                                type=\"submit\"\n                                className=\"bg-[#400505] text-white py-2 px-6 rounded-md\"\n                            >\n                                Update Movie\n                            </button>\n                        </form>\n                    </div>\n                </main>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}