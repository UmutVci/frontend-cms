{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import MovieService from\"../../services/MovieService\";import SessionService from\"../../services/SessionService\";import SeatService from\"../../services/SeatService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingRow=_ref=>{let{booking}=_ref;const[session,setSession]=useState(null);const[movie,setMovie]=useState(null);const[seat,setSeat]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchData=async()=>{try{const sessionData=await SessionService.getById(booking.session_id);const movieData=await MovieService.getById(sessionData.movie_id);const seatData=await SeatService.getById(booking.seat_id);setSession(sessionData);setMovie(movieData);setSeat(seatData);}catch(err){console.error(\"Veriler alınamadı:\",err);}};fetchData();},[booking.session_id,booking.seat_id]);const handleViewSeats=()=>{navigate(\"/clerk/sessions/\".concat(booking.session_id,\"/seats\"));};return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b text-sm text-gray-800 text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:(movie===null||movie===void 0?void 0:movie.name)||\"Bilinmeyen Film\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:(session===null||session===void 0?void 0:session.name)||\"Bilinmeyen Oturum\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3\",children:[seat===null||seat===void 0?void 0:seat.seatRow,seat===null||seat===void 0?void 0:seat.seatColumn]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:booking.customerName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleViewSeats,className:\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\",children:\"Koltuklar\\u0131 G\\xF6r\\xFCnt\\xFCle\"})})]});};export default BookingRow;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","MovieService","SessionService","SeatService","jsx","_jsx","jsxs","_jsxs","BookingRow","_ref","booking","session","setSession","movie","setMovie","seat","setSeat","navigate","fetchData","sessionData","getById","session_id","movieData","movie_id","seatData","seat_id","err","console","error","handleViewSeats","concat","className","children","name","seatRow","seatColumn","customerName","onClick"],"sources":["/Users/umutavc/WebstormProjects/cms/src/components/ClerkBookings/ClerkSearchBookingTableRows.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport MovieService from \"../../services/MovieService\";\nimport SessionService from \"../../services/SessionService\";\nimport SeatService from \"../../services/SeatService\";\n\nconst BookingRow = ({ booking }) => {\n    const [session, setSession] = useState(null);\n    const [movie, setMovie] = useState(null);\n    const [seat, setSeat] = useState(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const sessionData = await SessionService.getById(booking.session_id);\n                const movieData = await MovieService.getById(sessionData.movie_id);\n                const seatData = await SeatService.getById(booking.seat_id);\n\n                setSession(sessionData);\n                setMovie(movieData);\n                setSeat(seatData);\n            } catch (err) {\n                console.error(\"Veriler alınamadı:\", err);\n            }\n        };\n\n        fetchData();\n    }, [booking.session_id, booking.seat_id]);\n\n    const handleViewSeats = () => {\n        navigate(`/clerk/sessions/${booking.session_id}/seats`);\n    };\n\n    return (\n        <tr className=\"border-b text-sm text-gray-800 text-center\">\n            <td className=\"px-4 py-3\">{movie?.name || \"Bilinmeyen Film\"}</td>\n            <td className=\"px-4 py-3\">{session?.name || \"Bilinmeyen Oturum\"}</td>\n            <td className=\"px-4 py-3\">{seat?.seatRow}{seat?.seatColumn}</td>\n            <td className=\"px-4 py-3\">{booking.customerName}</td>\n            <td className=\"px-4 py-3\">\n                <button\n                    onClick={handleViewSeats}\n                    className=\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\"\n                >\n                    Koltukları Görüntüle\n                </button>\n            </td>\n        </tr>\n    );\n};\n\nexport default BookingRow;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,YAAY,KAAM,6BAA6B,CACtD,MAAO,CAAAC,cAAc,KAAM,+BAA+B,CAC1D,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACgB,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAkB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAoB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAjB,cAAc,CAACkB,OAAO,CAACV,OAAO,CAACW,UAAU,CAAC,CACpE,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAArB,YAAY,CAACmB,OAAO,CAACD,WAAW,CAACI,QAAQ,CAAC,CAClE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAArB,WAAW,CAACiB,OAAO,CAACV,OAAO,CAACe,OAAO,CAAC,CAE3Db,UAAU,CAACO,WAAW,CAAC,CACvBL,QAAQ,CAACQ,SAAS,CAAC,CACnBN,OAAO,CAACQ,QAAQ,CAAC,CACrB,CAAE,MAAOE,GAAG,CAAE,CACVC,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAEF,GAAG,CAAC,CAC5C,CACJ,CAAC,CAEDR,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACR,OAAO,CAACW,UAAU,CAAEX,OAAO,CAACe,OAAO,CAAC,CAAC,CAEzC,KAAM,CAAAI,eAAe,CAAGA,CAAA,GAAM,CAC1BZ,QAAQ,oBAAAa,MAAA,CAAoBpB,OAAO,CAACW,UAAU,UAAQ,CAAC,CAC3D,CAAC,CAED,mBACId,KAAA,OAAIwB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACtD3B,IAAA,OAAI0B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,CAAAnB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEoB,IAAI,GAAI,iBAAiB,CAAK,CAAC,cACjE5B,IAAA,OAAI0B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,CAAArB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEsB,IAAI,GAAI,mBAAmB,CAAK,CAAC,cACrE1B,KAAA,OAAIwB,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAEjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEmB,OAAO,CAAEnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEoB,UAAU,EAAK,CAAC,cAChE9B,IAAA,OAAI0B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEtB,OAAO,CAAC0B,YAAY,CAAK,CAAC,cACrD/B,IAAA,OAAI0B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACrB3B,IAAA,WACIgC,OAAO,CAAER,eAAgB,CACzBE,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CACzE,oCAED,CAAQ,CAAC,CACT,CAAC,EACL,CAAC,CAEb,CAAC,CAED,cAAe,CAAAxB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}