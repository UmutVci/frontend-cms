{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import Movie from\"../../../components/ClerkMovies/Movie\";import ClerkMoviesService from\"../../../services/MovieService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ClerkMoviesPage(){const[movies,setMovies]=useState([]);const scrollRef=useRef(null);const[showLeft,setShowLeft]=useState(false);const[showRight,setShowRight]=useState(false);useEffect(()=>{ClerkMoviesService.getAll().then(data=>setMovies(data)).catch(error=>console.log(\"Data couldn't fetch: \"+error));},[]);useEffect(()=>{checkScrollButtons();window.addEventListener('resize',checkScrollButtons);return()=>window.removeEventListener('resize',checkScrollButtons);},[movies]);const checkScrollButtons=()=>{const container=scrollRef.current;if(!container)return;setShowLeft(container.scrollLeft>5);setShowRight(container.scrollLeft+container.clientWidth<container.scrollWidth-5);};const scroll=direction=>{const container=scrollRef.current;if(!container)return;const scrollAmount=container.clientWidth*0.8;// neredeyse bir ekran kay\nif(direction===\"left\")container.scrollBy({left:-scrollAmount,behavior:\"smooth\"});if(direction===\"right\")container.scrollBy({left:scrollAmount,behavior:\"smooth\"});setTimeout(checkScrollButtons,350);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#400505] p-6 w-full min-w-0 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"Now Playing\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full min-w-0\",style:{minHeight:500},children:[showLeft&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>scroll(\"left\"),className:\"absolute top-1/2 left-2 -translate-y-1/2 bg-black text-white px-3 py-2 rounded z-20 shadow\",children:\"\\u2190\"}),showRight&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>scroll(\"right\"),className:\"absolute top-1/2 right-2 -translate-y-1/2 bg-black text-white px-3 py-2 rounded z-20 shadow\",children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"div\",{ref:scrollRef,className:\"flex gap-8 overflow-x-auto hide-scrollbar px-4 py-2 w-full min-w-0\",style:{scrollBehavior:\"smooth\"},onScroll:checkScrollButtons,children:movies.map(m=>/*#__PURE__*/_jsx(Movie,{movie:m},m.id))})]})]});}","map":{"version":3,"names":["useEffect","useRef","useState","Movie","ClerkMoviesService","jsx","_jsx","jsxs","_jsxs","ClerkMoviesPage","movies","setMovies","scrollRef","showLeft","setShowLeft","showRight","setShowRight","getAll","then","data","catch","error","console","log","checkScrollButtons","window","addEventListener","removeEventListener","container","current","scrollLeft","clientWidth","scrollWidth","scroll","direction","scrollAmount","scrollBy","left","behavior","setTimeout","className","children","style","minHeight","onClick","ref","scrollBehavior","onScroll","map","m","movie","id"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/clerk/ClerkMovies/ClerkMoviesPage.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport Movie from \"../../../components/ClerkMovies/Movie\";\nimport ClerkMoviesService from \"../../../services/MovieService\";\n\nexport default function ClerkMoviesPage() {\n    const [movies, setMovies] = useState([]);\n    const scrollRef = useRef(null);\n    const [showLeft, setShowLeft] = useState(false);\n    const [showRight, setShowRight] = useState(false);\n\n    useEffect(() => {\n        ClerkMoviesService.getAll()\n            .then(data => setMovies(data))\n            .catch(error => console.log(\"Data couldn't fetch: \" + error));\n    }, []);\n\n    useEffect(() => {\n        checkScrollButtons();\n        window.addEventListener('resize', checkScrollButtons);\n        return () => window.removeEventListener('resize', checkScrollButtons);\n    }, [movies]);\n\n    const checkScrollButtons = () => {\n        const container = scrollRef.current;\n        if (!container) return;\n        setShowLeft(container.scrollLeft > 5);\n        setShowRight(container.scrollLeft + container.clientWidth < container.scrollWidth - 5);\n    };\n\n    const scroll = (direction) => {\n        const container = scrollRef.current;\n        if (!container) return;\n        const scrollAmount = container.clientWidth * 0.8; // neredeyse bir ekran kay\n        if (direction === \"left\") container.scrollBy({ left: -scrollAmount, behavior: \"smooth\" });\n        if (direction === \"right\") container.scrollBy({ left: scrollAmount, behavior: \"smooth\" });\n        setTimeout(checkScrollButtons, 350);\n    };\n\n    return (\n        <div className=\"bg-[#400505] p-6 w-full min-w-0 overflow-hidden\">\n            <h2 className=\"text-xl font-bold text-white mb-4\">Now Playing</h2>\n            <div className=\"relative w-full min-w-0\" style={{ minHeight: 500 }}>\n                {showLeft && (\n                    <button\n                        onClick={() => scroll(\"left\")}\n                        className=\"absolute top-1/2 left-2 -translate-y-1/2 bg-black text-white px-3 py-2 rounded z-20 shadow\"\n                    >←</button>\n                )}\n                {showRight && (\n                    <button\n                        onClick={() => scroll(\"right\")}\n                        className=\"absolute top-1/2 right-2 -translate-y-1/2 bg-black text-white px-3 py-2 rounded z-20 shadow\"\n                    >→</button>\n                )}\n                <div\n                    ref={scrollRef}\n                    className=\"flex gap-8 overflow-x-auto hide-scrollbar px-4 py-2 w-full min-w-0\"\n                    style={{ scrollBehavior: \"smooth\" }}\n                    onScroll={checkScrollButtons}\n                >\n                    {movies.map((m) => (\n                        <Movie key={m.id} movie={m} />\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}