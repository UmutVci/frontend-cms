{"ast":null,"code":"import{NavLink}from'react-router-dom';import{useNavigate}from'react-router-dom';import{FilmIcon,CalendarIcon,UserGroupIcon,CogIcon,LogoutIcon,InboxIcon}from'@heroicons/react/outline';import{UsersIcon,ViewBoardsIcon,XIcon}from\"@heroicons/react/solid\";import useAuth from\"../../auth/useAuth\";import{useEffect,useState}from\"react\";import FeedbackService from\"../../../services/FeedbackService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminSidebar(_ref){let{onClose}=_ref;const[feedbackCount,setFeedbackCount]=useState(\"0\");const navigate=useNavigate();useEffect(()=>{FeedbackService.getCount().then(r=>setFeedbackCount(r)).catch(err=>console.error(\"Feedback count error:\",err));});const items=[{path:'/admin/messages',label:\"Feedbacks \"+feedbackCount,Icon:InboxIcon},{path:'/admin/movies',label:'Movies',Icon:FilmIcon},{path:'/admin/sessions',label:'Sessions',Icon:CalendarIcon},{path:'/admin/halls',label:'Halls',Icon:ViewBoardsIcon},{path:'/admin/customers',label:'Customers',Icon:UserGroupIcon},{path:'/admin/ticket-clerks',label:'Ticket Clerks',Icon:UsersIcon}];const user=useAuth(state=>state.user)||{};const userId=user.id;const link=\"/admin/settings/\"+userId;const handleLogout=()=>{navigate('/');};return/*#__PURE__*/_jsxs(\"aside\",{className:\"h-full w-64 bg-[#202123] text-[#8C8C8D] flex flex-col relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-4 right-4 text-white md:hidden\",onClick:onClose,children:/*#__PURE__*/_jsx(XIcon,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\" flex flex-col items-center justify-center border-b my-3 border-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",children:\"Cinema Management\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",children:\"System\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 overflow-y-auto py-4 \",children:/*#__PURE__*/_jsx(\"ul\",{children:items.map(_ref2=>{let{path,label,Icon}=_ref2;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(NavLink,{to:path,className:_ref3=>{let{isActive}=_ref3;return\"flex items-center px-6 py-3 space-x-3 hover:text-white rounded transition-colors \".concat(isActive?'bg-gray-800 text-white':'text-gray-400');},onClick:onClose,children:[/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:label})]})},path);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-700 p-4\",children:[/*#__PURE__*/_jsxs(NavLink,{to:link,className:\"flex items-center px-4 py-2 space-x-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded transition-colors\",onClick:onClose,children:[/*#__PURE__*/_jsx(CogIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"mt-2 flex items-center px-4 py-2 space-x-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded transition-colors w-full\",children:[/*#__PURE__*/_jsx(LogoutIcon,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Log out\"})]})]})]});}","map":{"version":3,"names":["NavLink","useNavigate","FilmIcon","CalendarIcon","UserGroupIcon","CogIcon","LogoutIcon","InboxIcon","UsersIcon","ViewBoardsIcon","XIcon","useAuth","useEffect","useState","FeedbackService","jsx","_jsx","jsxs","_jsxs","AdminSidebar","_ref","onClose","feedbackCount","setFeedbackCount","navigate","getCount","then","r","catch","err","console","error","items","path","label","Icon","user","state","userId","id","link","handleLogout","className","children","onClick","map","_ref2","to","_ref3","isActive","concat"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/admin/AdminLayout/Sidebar.jsx"],"sourcesContent":["import { NavLink } from 'react-router-dom'\nimport { useNavigate } from 'react-router-dom';\nimport {\n    FilmIcon,\n    CalendarIcon,\n    UserGroupIcon,\n    CogIcon,\n    LogoutIcon,\n    InboxIcon\n} from '@heroicons/react/outline'\nimport { UsersIcon, ViewBoardsIcon, XIcon } from \"@heroicons/react/solid\";\nimport useAuth from \"../../auth/useAuth\";\nimport {useEffect, useState} from \"react\";\nimport FeedbackService from \"../../../services/FeedbackService\";\n\nexport default function AdminSidebar({ onClose }) {\n    const [feedbackCount, setFeedbackCount] = useState(\"0\")\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        FeedbackService.getCount()\n            .then(r => setFeedbackCount(r))\n            .catch(err => console.error(\"Feedback count error:\", err));\n    });\n    const items = [\n        { path: '/admin/messages',    label: \"Feedbacks \" + feedbackCount,   Icon: InboxIcon },\n        { path: '/admin/movies',      label: 'Movies',      Icon: FilmIcon },\n        { path: '/admin/sessions',    label: 'Sessions',    Icon: CalendarIcon },\n        { path: '/admin/halls',       label: 'Halls',       Icon: ViewBoardsIcon },\n        { path: '/admin/customers',   label: 'Customers',   Icon: UserGroupIcon },\n        { path: '/admin/ticket-clerks', label: 'Ticket Clerks', Icon: UsersIcon },\n    ]\n\n    const user = useAuth((state) => state.user) || {};\n    const userId = user.id;\n    const link = \"/admin/settings/\" + userId;\n\n\n    const handleLogout = () => {\n        navigate('/');\n    };\n\n    return (\n        <aside className=\"h-full w-64 bg-[#202123] text-[#8C8C8D] flex flex-col relative\">\n            <button\n                className=\"absolute top-4 right-4 text-white md:hidden\"\n                onClick={onClose}\n            >\n                <XIcon className=\"h-6 w-6\" />\n            </button>\n            <div className=\" flex flex-col items-center justify-center border-b my-3 border-gray-700\">\n                <span className=\"text-lg font-semibold\">Cinema Management</span>\n                <span className=\"text-lg font-semibold\">System</span>\n            </div>\n            <nav className=\"flex-1 overflow-y-auto py-4 \">\n                <ul>\n                    {items.map(({ path, label, Icon }) => (\n                        <li key={path}>\n                            <NavLink\n                                to={path}\n                                className={({ isActive }) =>\n                                    `flex items-center px-6 py-3 space-x-3 hover:text-white rounded transition-colors ${\n                                        isActive ? 'bg-gray-800 text-white' : 'text-gray-400'\n                                    }`\n                                }\n                                onClick={onClose}\n                            >\n                                <Icon className=\"h-5 w-5\" />\n                                <span>{label}</span>\n                            </NavLink>\n                        </li>\n                    ))}\n                </ul>\n            </nav>\n            <div className=\"border-t border-gray-700 p-4\">\n                <NavLink\n                    to={link}\n                    className=\"flex items-center px-4 py-2 space-x-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded transition-colors\"\n                    onClick={onClose}\n                >\n                    <CogIcon className=\"h-5 w-5\" />\n                    <span>Settings</span>\n                </NavLink>\n                <button\n                    onClick={handleLogout}\n                    className=\"mt-2 flex items-center px-4 py-2 space-x-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded transition-colors w-full\"\n                >\n                    <LogoutIcon className=\"h-5 w-5\" />\n                    <span>Log out</span>\n                </button>\n            </div>\n        </aside>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}