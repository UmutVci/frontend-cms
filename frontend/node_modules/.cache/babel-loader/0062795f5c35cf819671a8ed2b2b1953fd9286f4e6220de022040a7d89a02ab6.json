{"ast":null,"code":"var _jsxFileName = \"/Users/umutavc/WebstormProjects/cms/src/features/clerk/ReservationSuccessPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/customer/ReservationSuccessPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport SessionService from '../../services/SessionService';\nimport HallService from '../../services/HallService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReservationSuccessPage() {\n  _s();\n  var _session$movie;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [searchParams] = useSearchParams();\n  const [session, setSession] = useState(null);\n  const [hall, setHall] = useState(null);\n  const [seats, setSeats] = useState([]);\n  useEffect(() => {\n    var _searchParams$get, _searchParams$get$spl;\n    const sessionId = searchParams.get('sessionId');\n    const hallId = searchParams.get('hallId');\n    const seatIds = ((_searchParams$get = searchParams.get('seatIds')) === null || _searchParams$get === void 0 ? void 0 : (_searchParams$get$spl = _searchParams$get.split(',')) === null || _searchParams$get$spl === void 0 ? void 0 : _searchParams$get$spl.map(id => Number(id))) || [];\n    async function loadData() {\n      try {\n        const sessionData = await SessionService.getById(sessionId);\n        const hallData = await HallService.getById(hallId);\n        const allSeats = await SessionService.getSeatsBySessionId(sessionId);\n        const reservedSeats = allSeats.filter(seat => seatIds.includes(seat.id));\n        console.log(\"‚úÖ Session:\", sessionData);\n        console.log(\"‚úÖ Hall:\", hallData);\n        console.log(\"‚úÖ Reserved Seats:\", reservedSeats);\n        setSession(sessionData);\n        setHall(hallData);\n        setSeats(reservedSeats);\n      } catch (err) {\n        console.error(\"‚ùå Ba≈üarƒ± sayfasƒ± y√ºklenemedi:\", err);\n      }\n    }\n    loadData();\n  }, [searchParams]);\n  if (!session || !hall || seats.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 text-red-600\",\n      children: \"\\u274C Rezervasyon verisi eksik!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }, this);\n  }\n  const seatLabels = seats.map(seat => `${seat.seatRow}${seat.seatColumn}`).join(', ');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-green-700\",\n      children: \"\\uD83C\\uDF89 Rezervasyon Ba\\u015Far\\u0131l\\u0131!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [\"\\uD83C\\uDFAC \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: ((_session$movie = session.movie) === null || _session$movie === void 0 ? void 0 : _session$movie.title) || 'Film'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [\"\\uD83D\\uDCC5 Tarih: \", new Date(session.startTime).toLocaleDateString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2\",\n      children: [\"\\uD83D\\uDD52 Saat: \", new Date(session.startTime).toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-4\",\n      children: [\"\\uD83E\\uDE91 Koltuklar: \", seatLabels]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-semibold\",\n      children: [\"\\uD83C\\uDFDB\\uFE0F Salon: \", hall.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/'),\n      className: \"mt-6 bg-blue-700 text-white px-6 py-2 rounded\",\n      children: \"Ana Sayfaya D\\xF6n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationSuccessPage, \"0IhFm89oQN2VGYqVuvNsaSHlqw8=\", false, function () {\n  return [useNavigate, useLocation, useSearchParams];\n});\n_c = ReservationSuccessPage;\nvar _c;\n$RefreshReg$(_c, \"ReservationSuccessPage\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","useSearchParams","SessionService","HallService","jsxDEV","_jsxDEV","ReservationSuccessPage","_s","_session$movie","navigate","location","searchParams","session","setSession","hall","setHall","seats","setSeats","_searchParams$get","_searchParams$get$spl","sessionId","get","hallId","seatIds","split","map","id","Number","loadData","sessionData","getById","hallData","allSeats","getSeatsBySessionId","reservedSeats","filter","seat","includes","console","log","err","error","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","seatLabels","seatRow","seatColumn","join","movie","title","Date","startTime","toLocaleDateString","toLocaleTimeString","hour","minute","name","onClick","_c","$RefreshReg$"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/clerk/ReservationSuccessPage.jsx"],"sourcesContent":["// src/pages/customer/ReservationSuccessPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport SessionService from '../../services/SessionService';\nimport HallService from '../../services/HallService';\n\n\nexport default function ReservationSuccessPage() {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const [searchParams] = useSearchParams();\n\n    const [session, setSession] = useState(null);\n    const [hall, setHall] = useState(null);\n    const [seats, setSeats] = useState([]);\n\n    useEffect(() => {\n        const sessionId = searchParams.get('sessionId');\n        const hallId = searchParams.get('hallId');\n        const seatIds = searchParams.get('seatIds')?.split(',')?.map(id => Number(id)) || [];\n\n        async function loadData() {\n            try {\n                const sessionData = await SessionService.getById(sessionId);\n                const hallData = await HallService.getById(hallId);\n                const allSeats = await SessionService.getSeatsBySessionId(sessionId);\n                const reservedSeats = allSeats.filter(seat => seatIds.includes(seat.id));\n\n                console.log(\"‚úÖ Session:\", sessionData);\n                console.log(\"‚úÖ Hall:\", hallData);\n                console.log(\"‚úÖ Reserved Seats:\", reservedSeats);\n\n                setSession(sessionData);\n                setHall(hallData);\n                setSeats(reservedSeats);\n            } catch (err) {\n                console.error(\"‚ùå Ba≈üarƒ± sayfasƒ± y√ºklenemedi:\", err);\n            }\n        }\n\n        loadData();\n    }, [searchParams]);\n\n    if (!session || !hall || seats.length === 0) {\n        return <div className=\"p-6 text-red-600\">‚ùå Rezervasyon verisi eksik!</div>;\n    }\n\n    const seatLabels = seats.map(seat => `${seat.seatRow}${seat.seatColumn}`).join(', ');\n\n    return (\n        <div className=\"p-6 text-center\">\n            <h2 className=\"text-2xl font-bold mb-4 text-green-700\">üéâ Rezervasyon Ba≈üarƒ±lƒ±!</h2>\n            <p className=\"mb-2\">üé¨ <strong>{session.movie?.title || 'Film'}</strong></p>\n            <p className=\"mb-2\">üìÖ Tarih: {new Date(session.startTime).toLocaleDateString()}</p>\n            <p className=\"mb-2\">üïí Saat: {new Date(session.startTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>\n            <p className=\"mb-4\">ü™ë Koltuklar: {seatLabels}</p>\n            <p className=\"font-semibold\">üèõÔ∏è Salon: {hall.name}</p>\n\n            <button\n                onClick={() => navigate('/')}\n                className=\"mt-6 bg-blue-700 text-white px-6 py-2 rounded\"\n            >\n                Ana Sayfaya D√∂n\n            </button>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}