{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{SearchIcon}from'@heroicons/react/outline';import AdminTicketClerksTable from'../../../components/AdminTicketClerks/AdminTicketClerksTable';import Pagination from'../../../components/Pagination';import TicketClerkService from'../../../services/TicketClerkService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminTicketClerk(){const[clerks,setClerks]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[currentPage,setCurrentPage]=useState(1);const[sortField,setSortField]=useState('id');// 'id' or 'name'\nconst[sortOrder,setSortOrder]=useState('asc');// 'asc' or 'desc'\nconst itemsPerPage=6;useEffect(()=>{TicketClerkService.getAll().then(setClerks).catch(console.error);});const filtered=clerks.filter(clerk=>{const term=searchTerm.toLowerCase();const name=clerk.email?clerk.email.toLowerCase():'';const idStr=String(clerk.id);return name.includes(term)||idStr.includes(term);});const sorted=[...filtered].sort((a,b)=>{let va=a[sortField];let vb=b[sortField];if(typeof va==='string'){const cmp=va.localeCompare(vb);return sortOrder==='asc'?cmp:-cmp;}else{return sortOrder==='asc'?va-vb:vb-va;}});// Sayfalama\nconst pageCount=Math.ceil(sorted.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const currentItems=sorted.slice(startIndex,startIndex+itemsPerPage);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-full mx-3 my-4 rounded-xl p-6 overflow-auto flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/add-ticket-clerk\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#202123] text-white h-10 px-6 rounded-full\",children:\"+ Add Ticket Clerk\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex justify-center px-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),className:\"relative w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by ID or Name...\",value:searchTerm,onChange:e=>{setSearchTerm(e.target.value);setCurrentPage(1);},className:\"w-full pl-4 pr-10 py-2 border rounded-full focus:outline-none\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500\",children:/*#__PURE__*/_jsx(SearchIcon,{className:\"h-5 w-5\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Sort by:\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortField,onChange:e=>{setSortField(e.target.value);setCurrentPage(1);},className:\"border rounded-md p-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"id\",children:\"ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sortOrder,onChange:e=>{setSortOrder(e.target.value);setCurrentPage(1);},className:\"border rounded-md p-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Ascending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Descending\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsx(AdminTicketClerksTable,{clerks:currentItems})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,pageCount:pageCount,onPageChange:setCurrentPage})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","SearchIcon","AdminTicketClerksTable","Pagination","TicketClerkService","jsx","_jsx","jsxs","_jsxs","AdminTicketClerk","clerks","setClerks","searchTerm","setSearchTerm","currentPage","setCurrentPage","sortField","setSortField","sortOrder","setSortOrder","itemsPerPage","getAll","then","catch","console","error","filtered","filter","clerk","term","toLowerCase","name","email","idStr","String","id","includes","sorted","sort","a","b","va","vb","cmp","localeCompare","pageCount","Math","ceil","length","startIndex","currentItems","slice","className","children","to","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","onPageChange"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/admin/TicketClerks/AdminTicketClerk.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link }                       from 'react-router-dom';\nimport { SearchIcon }                 from '@heroicons/react/outline';\nimport AdminTicketClerksTable         from '../../../components/AdminTicketClerks/AdminTicketClerksTable';\nimport Pagination                     from '../../../components/Pagination';\nimport TicketClerkService             from '../../../services/TicketClerkService';\n\nexport default function AdminTicketClerk() {\n    const [clerks, setClerks] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [currentPage, setCurrentPage] = useState(1);\n    const [sortField, setSortField] = useState('id'); // 'id' or 'name'\n    const [sortOrder, setSortOrder] = useState('asc'); // 'asc' or 'desc'\n    const itemsPerPage = 6;\n\n    useEffect(() => {\n        TicketClerkService.getAll()\n            .then(setClerks)\n            .catch(console.error);\n    });\n\n    const filtered = clerks.filter(clerk => {\n        const term = searchTerm.toLowerCase();\n        const name = clerk.email ? clerk.email.toLowerCase() : '';\n        const idStr = String(clerk.id);\n\n        return (\n            name.includes(term) ||\n            idStr.includes(term)\n        );\n    });\n\n\n    const sorted = [...filtered].sort((a, b) => {\n        let va = a[sortField];\n        let vb = b[sortField];\n\n        if (typeof va === 'string') {\n            const cmp = va.localeCompare(vb);\n            return sortOrder === 'asc' ? cmp : -cmp;\n        } else {\n            return sortOrder === 'asc' ? va - vb : vb - va;\n        }\n    });\n\n    // Sayfalama\n    const pageCount = Math.ceil(sorted.length / itemsPerPage);\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const currentItems = sorted.slice(startIndex, startIndex + itemsPerPage);\n\n    return (\n            <div className=\"bg-white w-full mx-3 my-4 rounded-xl p-6 overflow-auto flex flex-col\">\n\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-6\">\n                    <Link to=\"/admin/add-ticket-clerk\">\n                        <button className=\"bg-[#202123] text-white h-10 px-6 rounded-full\">\n                            + Add Ticket Clerk\n                        </button>\n                    </Link>\n\n                    {/* Search */}\n                    <div className=\"flex-1 flex justify-center px-4\">\n                        <form\n                            onSubmit={e => e.preventDefault()}\n                            className=\"relative w-full max-w-md\"\n                        >\n                            <input\n                                type=\"text\"\n                                placeholder=\"Search by ID or Name...\"\n                                value={searchTerm}\n                                onChange={e => {\n                                    setSearchTerm(e.target.value);\n                                    setCurrentPage(1);\n                                }}\n                                className=\"w-full pl-4 pr-10 py-2 border rounded-full focus:outline-none\"\n                            />\n                            <button\n                                type=\"submit\"\n                                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500\"\n                            >\n                                <SearchIcon className=\"h-5 w-5\" />\n                            </button>\n                        </form>\n                    </div>\n\n                    {/* Sort Controls */}\n                    <div className=\"flex items-center space-x-4\">\n                        <span className=\"font-medium text-gray-700\">Sort by:</span>\n                        <select\n                            value={sortField}\n                            onChange={e => {\n                                setSortField(e.target.value);\n                                setCurrentPage(1);\n                            }}\n                            className=\"border rounded-md p-1\"\n                        >\n                            <option value=\"id\">ID</option>\n                            <option value=\"name\">Name</option>\n                        </select>\n                        <select\n                            value={sortOrder}\n                            onChange={e => {\n                                setSortOrder(e.target.value);\n                                setCurrentPage(1);\n                            }}\n                            className=\"border rounded-md p-1\"\n                        >\n                            <option value=\"asc\">Ascending</option>\n                            <option value=\"desc\">Descending</option>\n                        </select>\n                    </div>\n                </div>\n\n                {/* Table */}\n                <div className=\"overflow-x-auto\">\n                    <AdminTicketClerksTable clerks={currentItems} />\n                </div>\n\n                {/* Pagination */}\n                <div className=\"mt-6\">\n                    <Pagination\n                        currentPage={currentPage}\n                        pageCount={pageCount}\n                        onPageChange={setCurrentPage}\n                    />\n                </div>\n            </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}