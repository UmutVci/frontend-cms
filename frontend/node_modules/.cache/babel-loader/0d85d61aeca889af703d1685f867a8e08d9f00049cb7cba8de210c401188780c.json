{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import{useState}from\"react\";import useAuth from'./useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginPage(){const navigate=useNavigate();const loginUser=useAuth(state=>state.loginUser);const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const handleLogin=async e=>{e.preventDefault();if(email&&password){const success=await loginUser({email,password});if(success){const{role}=useAuth.getState();if(role===\"ADMIN\"){navigate(\"/admin/movies\");}else if(role===\"TICKET_CLERK\"){navigate(\"/clerk/movies\");}else{navigate(\"/login\");}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login h-screen font-[Poppins]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#400505] h-[10%] flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-white font-normal ml-5 sm:text-xl md:text-2xl lg:text-3xl\",children:\"Cinema Management System\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#202123] h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form bg-[#4B4A4A] pt-10 pb-16 pl-20 pr-20 mb-52 rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loginTitle justify-center flex p-5 sm:text-lg md:text-xl lg:text-2xl\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-white\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"loginForm px-10 pt-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"w-80\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true,className:\"block w-full mb-4 p-2 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true,className:\"block w-full mb-4 p-2 rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"h-5 w-5 cursor-pointer transition-all\",id:\"check\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-[#8C8C8D] ml-3\",htmlFor:\"check\",children:\"Remember Me\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-[#8C8C8D] underline hover:text-blue-600 transition-colors text-sm\",onClick:()=>alert('Unfortunately not coded on the Backend side, sorry'),tabIndex:0,children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-[#400505] text-white py-3 px-28 rounded-xl\",children:\"SIGN IN\"})})]})})]})})]});}","map":{"version":3,"names":["useNavigate","useState","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","navigate","loginUser","state","email","setEmail","password","setPassword","handleLogin","e","preventDefault","success","role","getState","className","children","onSubmit","type","placeholder","value","onChange","target","required","id","htmlFor","onClick","alert","tabIndex"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/auth/LoginPage.jsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport useAuth from './useAuth'\n\nexport default function LoginPage() {\n    const navigate = useNavigate();\n    const loginUser = useAuth((state) => state.loginUser)\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const handleLogin = async (e) => {\n        e.preventDefault();\n        if (email && password) {\n            const success = await loginUser({ email, password });\n            if (success) {\n                const { role } = useAuth.getState();\n                if (role === \"ADMIN\") {\n                    navigate(\"/admin/movies\");\n                } else if (role === \"TICKET_CLERK\") {\n                    navigate(\"/clerk/movies\");\n                } else {\n                    navigate(\"/login\");\n                }\n            }\n        }\n    };\n\n    return (\n        <div className=\"login h-screen font-[Poppins]\">\n            <div className=\"bg-[#400505] h-[10%] flex items-center\">\n                <h1 className=\"text-white font-normal ml-5 sm:text-xl md:text-2xl lg:text-3xl\">\n                    Cinema Management System\n                </h1>\n            </div>\n            <hr />\n            <div className=\"bg-[#202123] h-screen flex items-center justify-center\">\n                <div className=\"form bg-[#4B4A4A] pt-10 pb-16 pl-20 pr-20 mb-52 rounded-md\">\n                    <div className=\"loginTitle justify-center flex p-5 sm:text-lg md:text-xl lg:text-2xl\">\n                        <h2 className=\"text-white\">Login</h2>\n                    </div>\n                    <hr />\n                    <div className=\"loginForm px-10 pt-6\">\n                        <form className=\"w-80\" onSubmit={handleLogin}>\n                            <input\n                                type=\"text\"\n                                placeholder=\"Email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                                required\n                                className=\"block w-full mb-4 p-2 rounded\"\n                            />\n                            <input\n                                type=\"password\"\n                                placeholder=\"Password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                                required\n                                className=\"block w-full mb-4 p-2 rounded\"\n                            />\n                            <div className=\"flex items-center justify-between mb-2\">\n                                <div className=\"flex items-center\">\n                                    <input\n                                        type=\"checkbox\"\n                                        className=\"h-5 w-5 cursor-pointer transition-all\"\n                                        id=\"check\"\n                                    />\n                                    <label className=\"text-[#8C8C8D] ml-3\" htmlFor=\"check\">Remember Me</label>\n                                </div>\n                                <button\n                                    type=\"button\"\n                                    className=\"text-[#8C8C8D] underline hover:text-blue-600 transition-colors text-sm\"\n                                    onClick={() => alert('Unfortunately not coded on the Backend side, sorry')}\n                                    tabIndex={0}\n                                >\n                                    Forgot Password?\n                                </button>\n                            </div>\n                            <div className=\"flex justify-center mt-6\">\n                                <button\n                                    type=\"submit\"\n                                    className=\"bg-[#400505] text-white py-3 px-28 rounded-xl\"\n                                >\n                                    SIGN IN\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}