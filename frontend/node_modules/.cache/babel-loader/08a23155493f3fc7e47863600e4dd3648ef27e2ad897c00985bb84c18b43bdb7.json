{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import FeedbackService from\"../../../services/FeedbackService\";import MovieService from\"../../../services/MovieService\";import HallService from\"../../../services/HallService\";import api from\"../../../lib/axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function FeedbackForm(){const[clientName,setClientName]=useState(\"\");const[description,setDescription]=useState(\"\");const[movieId,setMovieId]=useState(\"\");const[hallId,setHallId]=useState(\"\");const[moviesList,setMoviesList]=useState([]);const[hallsList,setHallsList]=useState([]);const navigate=useNavigate();// Filmleri ve salonlarÄ± getir\nuseEffect(()=>{api.get(\"/movies\").then(r=>setMoviesList(r.data._embedded.domainMovieList||[])).catch(()=>setMoviesList([]));api.get(\"/halls\").then(r=>setHallsList(r.data._embedded.domainHallList||[])).catch(()=>setHallsList([]));},[]);const handleSubmit=async e=>{e.preventDefault();const payload={clientName,description,movie:Number(movieId),// ID'leri sayÄ±ya Ã§eviriyoruz\nhall:Number(hallId)};const success=await FeedbackService.create(payload);if(success){alert(\"ðŸŽ‰ Geri bildiriminiz baÅŸarÄ±yla gÃ¶nderildi!\");navigate(\"/clerk/feedback\");}else{alert(\"GÃ¶nderim baÅŸarÄ±sÄ±z!\");}};return/*#__PURE__*/_jsx(\"main\",{className:\"inner-container relative flex-1 p-10 bg-[#D9D9D9]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white w-[75%] h-full mx-auto my-4 rounded-xl p-6 overflow-auto\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"p-8\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-black font-semibold\",children:\"Client Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:clientName,onChange:e=>setClientName(e.target.value),className:\"border-2 border-gray-300 rounded-md h-8 w-full mt-1\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-black font-semibold mt-6\",children:\"Movie\"}),/*#__PURE__*/_jsxs(\"select\",{value:movieId,onChange:e=>setMovieId(e.target.value),className:\"border-2 border-gray-300 rounded-md h-8 w-full mt-1\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Movie --\"}),moviesList.map(movie=>/*#__PURE__*/_jsx(\"option\",{value:movie.id,children:movie.title},movie.id))]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-black font-semibold mt-6\",children:\"Hall\"}),/*#__PURE__*/_jsxs(\"select\",{value:hallId,onChange:e=>setHallId(e.target.value),className:\"border-2 border-gray-300 rounded-md h-8 w-full mt-1\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Hall --\"}),hallsList.map(hall=>/*#__PURE__*/_jsx(\"option\",{value:hall.id,children:hall.name},hall.id))]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-black font-semibold mt-6\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),className:\"border-2 border-gray-300 rounded-md w-full mt-1 h-24\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-10 bg-[#400505] text-white py-2 px-16 rounded-xl\",children:\"Submit Feedback\"})]})})});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","FeedbackService","MovieService","HallService","api","jsx","_jsx","jsxs","_jsxs","FeedbackForm","clientName","setClientName","description","setDescription","movieId","setMovieId","hallId","setHallId","moviesList","setMoviesList","hallsList","setHallsList","navigate","get","then","r","data","_embedded","domainMovieList","catch","domainHallList","handleSubmit","e","preventDefault","payload","movie","Number","hall","success","create","alert","className","children","onSubmit","type","value","onChange","target","required","map","id","title","name"],"sources":["/Users/umutavc/WebstormProjects/cms/src/features/clerk/ClerkFeedback/ClerkFeedback.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport FeedbackService from \"../../../services/FeedbackService\";\nimport MovieService from \"../../../services/MovieService\";\nimport HallService from \"../../../services/HallService\";\nimport api from \"../../../lib/axios\";\n\nexport default function FeedbackForm() {\n    const [clientName, setClientName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [movieId, setMovieId] = useState(\"\");\n    const [hallId, setHallId] = useState(\"\");\n    const [moviesList, setMoviesList] = useState([]);\n    const [hallsList, setHallsList] = useState([]);\n\n    const navigate = useNavigate();\n\n    // Filmleri ve salonlarÄ± getir\n    useEffect(() => {\n        api.get(\"/movies\")\n            .then(r => setMoviesList(r.data._embedded.domainMovieList || []))\n            .catch(() => setMoviesList([]));\n\n        api.get(\"/halls\")\n            .then(r => setHallsList(r.data._embedded.domainHallList || []))\n            .catch(() => setHallsList([]));\n    }, []);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const payload = {\n            clientName,\n            description,\n            movie: Number(movieId), // ID'leri sayÄ±ya Ã§eviriyoruz\n            hall: Number(hallId),\n        };\n\n        const success = await FeedbackService.create(payload);\n        if (success) {\n            alert(\"ðŸŽ‰ Geri bildiriminiz baÅŸarÄ±yla gÃ¶nderildi!\");\n            navigate(\"/clerk/feedback\");\n        } else {\n            alert(\"GÃ¶nderim baÅŸarÄ±sÄ±z!\");\n        }\n    };\n\n    return (\n        <main className=\"inner-container relative flex-1 p-10 bg-[#D9D9D9]\">\n            <div className=\"bg-white w-[75%] h-full mx-auto my-4 rounded-xl p-6 overflow-auto\">\n                <form className=\"p-8\" onSubmit={handleSubmit}>\n                    <label className=\"block text-black font-semibold\">Client Name</label>\n                    <input\n                        type=\"text\"\n                        value={clientName}\n                        onChange={(e) => setClientName(e.target.value)}\n                        className=\"border-2 border-gray-300 rounded-md h-8 w-full mt-1\"\n                        required\n                    />\n\n                    <label className=\"block text-black font-semibold mt-6\">Movie</label>\n                    <select\n                        value={movieId}\n                        onChange={(e) => setMovieId(e.target.value)}\n                        className=\"border-2 border-gray-300 rounded-md h-8 w-full mt-1\"\n                        required\n                    >\n                        <option value=\"\">-- Select a Movie --</option>\n                        {moviesList.map((movie) => (\n                            <option key={movie.id} value={movie.id}>\n                                {movie.title}\n                            </option>\n                        ))}\n                    </select>\n\n                    <label className=\"block text-black font-semibold mt-6\">Hall</label>\n                    <select\n                        value={hallId}\n                        onChange={(e) => setHallId(e.target.value)}\n                        className=\"border-2 border-gray-300 rounded-md h-8 w-full mt-1\"\n                        required\n                    >\n                        <option value=\"\">-- Select a Hall --</option>\n                        {hallsList.map((hall) => (\n                            <option key={hall.id} value={hall.id}>\n                                {hall.name}\n                            </option>\n                        ))}\n                    </select>\n\n                    <label className=\"block text-black font-semibold mt-6\">Description</label>\n                    <textarea\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                        className=\"border-2 border-gray-300 rounded-md w-full mt-1 h-24\"\n                        required\n                    />\n\n                    <button\n                        type=\"submit\"\n                        className=\"mt-10 bg-[#400505] text-white py-2 px-16 rounded-xl\"\n                    >\n                        Submit Feedback\n                    </button>\n                </form>\n            </div>\n        </main>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}